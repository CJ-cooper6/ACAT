import{r as g,o as f,c as h,a as v,b as w,d as E,e as c,E as u,f as A,g as y,h as L}from"./vendor.12d0e4e5.js";const k=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}};k();var P=(t,e)=>{for(const[n,a]of e)t[n]=a;return t};const C={},O={class:"app"};function S(t,e){const n=g("router-view");return f(),h("div",O,[v(n)])}var b=P(C,[["render",S]]);const j="modulepreload",d={},I="/",i=function(e,n){return!n||n.length===0?e():Promise.all(n.map(a=>{if(a=`${I}${a}`,a in d)return;d[a]=!0;const o=a.endsWith(".css"),r=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${r}`))return;const s=document.createElement("link");if(s.rel=o?"stylesheet":j,o||(s.as="script",s.crossOrigin=""),s.href=a,document.head.appendChild(s),o)return new Promise((p,_)=>{s.addEventListener("load",p),s.addEventListener("error",_)})})).then(()=>e())};class T{setCache(e,n,a){window.localStorage.setItem(e,JSON.stringify(n))}getCache(e){const n=window.localStorage.getItem(e);if(n)return JSON.parse(n)}delate(e){window.localStorage.removeItem(e)}clearCache(){window.localStorage.clear()}}var l=new T;const R=[{path:"/",redirect:"/home"},{path:"/login",name:"/login",component:()=>i(()=>import("./login.916db9c6.js"),["assets/login.916db9c6.js","assets/login.b33f7074.css","assets/vendor.12d0e4e5.js"])},{path:"/home",name:"home",redirect:"/user",component:()=>i(()=>import("./Home.e88ace50.js"),["assets/Home.e88ace50.js","assets/Home.8ecc08a6.css","assets/vendor.12d0e4e5.js"]),children:[{path:"/user",name:"user",component:()=>i(()=>import("./User.1275d79b.js"),["assets/User.1275d79b.js","assets/User.2fc80219.css","assets/vendor.12d0e4e5.js"]),meta:{icon:"el-icon-location",title:"\u8003\u751F\u4FE1\u606F"}},{path:"/interviewing",name:"interviewing",component:()=>i(()=>import("./Interviewing.2b0db960.js"),["assets/Interviewing.2b0db960.js","assets/vendor.12d0e4e5.js"]),meta:{icon:"el-icon-location",title:"\u4E00\u9762\u4E2D",parent:"\u9762\u8BD5\u7BA1\u7406"}},{path:"/interviewed",name:"interviewed",component:()=>i(()=>import("./Interviewed.93fccbae.js"),["assets/Interviewed.93fccbae.js","assets/Interviewed.9ddb3897.css","assets/vendor.12d0e4e5.js"]),meta:{icon:"el-icon-location",title:"\u4E00\u9762\u7ED3\u675F",parent:"\u9762\u8BD5\u7BA1\u7406"}},{path:"/success",name:"success",component:()=>i(()=>import("./Success.8194505f.js"),["assets/Success.8194505f.js","assets/vendor.12d0e4e5.js"]),meta:{icon:"el-icon-location",title:"\u65B0\u6210\u5458\u540D\u5355"}},{path:"/appraise",name:"appraise",component:()=>i(()=>import("./appraise.0441b6c1.js"),["assets/appraise.0441b6c1.js","assets/appraise.c72565b2.css","assets/vendor.12d0e4e5.js"]),meta:{icon:"el-icon-location",title:"\u8BC4\u4EF7\u9875"}},{path:"/SuperAdmin",name:"SuperAdmin",component:()=>i(()=>import("./superadmin.d8e97400.js"),["assets/superadmin.d8e97400.js","assets/superadmin.2ca78b87.css","assets/vendor.12d0e4e5.js"]),meta:{icon:"el-icon-location",title:"\u7BA1\u7406\u5458\u540D\u5355"}}]}],m=new w({history:E(),routes:R});m.beforeEach(t=>{if(t.path!=="/login"&&!l.getCache("token"))return"/login"});c.defaults.headers.post["Content-Type"]="application/json";c.defaults.headers.Authorization="Bearer "+l.getCache("token")||"";c.interceptors.request.use(function(t){return t},function(t){return Promise.reject(t)});c.interceptors.response.use(t=>typeof t.data!="object"?Promise.reject(t):t.status!=200?Promise.reject(t.data):t.data);const V={namespace:!0,state:()=>({token:"",admin_name:"",admin_num:""}),mutations:{changeToken(t,e){t.token=e},changeAdmin_name(t,e){t.admin_name=e},changeAdmin_num(t,e){t.admin_num=e}},getters:{},actions:{accoutLoginAction({commit:t},e){console.log("accoutLoginAction"),c.post("api/admin/login",e).then(n=>{if(console.log(n),n.status!==200&&n.status===1003)u.warning({message:"\u7BA1\u7406\u5458\u4E0D\u5B58\u5728\uFF0C\u8BE5\u5B66\u53F7\u672A\u6CE8\u518C",type:"warning",duration:2e3}),console.log("\u7BA1\u7406\u5458\u4E0D\u5B58\u5728\uFF0C\u8BE5\u5B66\u53F7\u672A\u6CE8\u518C");else if(n.status===1002)u.warning({message:"\u5BC6\u7801\u9519\u8BEF",type:"warning",duration:2e3});else if(n.status===200){console.log(n);const a=n.token,o=n.admin_name;t("changeToken",a),t("changeAdmin_name",o),t("changeAdmin_num",e.admin_num),l.setCache("token",a),l.setCache("admin_name",o),console.log(l.getCache("admin_num")),window.location.href="/"}})},registerFun({commit:t},e){console.log("registerFun"),c.post("api/admin/regist",e).then(n=>{console.log("register"),n.status===1001?(console.log("\u8BE5\u7528\u6237\u5DF2\u5B58\u5728"),u.warning({message:"\u8BE5\u7528\u6237\u5DF2\u5B58\u5728\uFF0C\u8BF7\u91CD\u65B0\u6CE8\u518C",type:"warning",duration:5e3})):n.status===200&&(console.log("success"),u.success({message:"\u6CE8\u518C\u6210\u529F\uFF0C\u8BF7\u767B\u5F55",type:"success"}))})}}},D={namespace:!0,state:()=>({}),mutations:{},getters:{},actions:{appraiseAction({commit:t},e){console.log("111");const n={appraise:e.appraise,score:+e.score,evaluator:l.getCache("admin_name")};e.admin_name=l.getCache("admin_name"),console.log(e),c.post(`api/admin/appraise/${e.studentName}`,n).then(a=>{a.status===200&&(u.success({message:"\u63D0\u4EA4\u6210\u529F",type:"success"}),window.location.href="/")})}}},N=A({state:()=>({name:"aaa",password:"1111"}),mutations:{},getters:{},actions:{},modules:{login:V,appraise:D}});console.log(m);y(b).use(L,{size:"small"}).use(m).use(N).mount("#app");export{P as _,l,m as r};
