var S=Object.defineProperty;var v=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var b=(a,o,n)=>o in a?S(a,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[o]=n,z=(a,o)=>{for(var n in o||(o={}))j.call(o,n)&&b(a,n,o[n]);if(v)for(var n of v(o))B.call(o,n)&&b(a,n,o[n]);return a};import{i as y,j as x,r as c,o as g,c as w,a as s,w as u,e as k,E as V,F as E,s as q,m as N,t as F,k as G,v as J}from"./vendor.12d0e4e5.js";import{_ as P}from"./index.799e1907.js";const U={setup(){const a=y({pagenum:1,pagesize:10}),o=["\u524D\u7AEF","go","Java","\u670D\u52A1\u7AEF","\u673A\u5668\u5B66\u4E60"];let n=x("\u53BB\u6388\u6743"),t=x();const i=y({list:[],total:0}),m=["\u65E0\uFF08\u672A\u9009\u62E9\u3001\u672A\u8D4B\u6743\uFF09","\u8D85\u7EA7\u7BA1\u7406\u5458","\u524D\u7AEF","go","Java","\u670D\u52A1\u7AEF","\u673A\u5668\u5B66\u4E60"];console.log("adminInfo.list",i.list);const l=()=>{k.get(`api/admin/superadmin/getadminpage?pagesize=${a.pagesize}&pagenum=${a.pagenum}`).then(e=>{console.log(e),e.status==200&&(i.total=e.total,i.list=e.admins,i.list.forEach(p=>{p.role=m[p.role]}))})};return l(),{adminInfo:i,queryInfo:a,isCommission:n,adminRole:t,selectGroups:o,updateAdminInfo:l,handleSizeChange:e=>{a.pagesize=e,l()},handleCurrentChange:e=>{console.log(e),a.pagenum=e,l()},changePower:e=>{n="\u5DF2\u6388\u6743",console.log(z({},e)),m.filter((d,r)=>{d==e.role&&(t=r)});const p={admin_num:e.admin_num,role:t};k.post("api/admin/superadmin/changepower",p).then(d=>{console.log(d),d.status==200?(V.success({message:"\u6388\u6743\u6210\u529F",type:"success"}),location.reload()):V.warning({message:"\u6388\u6743\u5931\u8D25",type:"warning"})})}}}},A={class:"block"};function D(a,o,n,t,i,m){const l=c("el-table-column"),f=c("el-option"),h=c("el-select"),C=c("el-button"),e=c("el-table"),p=c("el-pagination"),d=c("el-card");return g(),w("div",null,[s(d,{class:"box-card"},{default:u(()=>[s(e,{data:t.adminInfo.list,border:!0,style:{"font-size":"14px"}},{default:u(()=>[s(l,{label:"\u5B66\u53F7",prop:"admin_num"}),s(l,{label:"\u59D3\u540D",prop:"admin_name"}),s(l,{label:"\u65B9\u5411",prop:"role"},{default:u(r=>[s(h,{modelValue:r.row[r.column.property],"onUpdate:modelValue":_=>r.row[r.column.property]=_,"default-first-option":""},{default:u(()=>[(g(!0),w(E,null,q(t.selectGroups,(_,I)=>(g(),J(f,{key:I,label:_,value:_},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),s(l,{label:"\u6388\u6743"},{default:u(r=>[s(C,{onClick:_=>t.changePower(r.row)},{default:u(()=>[N(F(t.isCommission),1)]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),G("div",A,[s(p,{onSizeChange:t.handleSizeChange,onCurrentChange:t.handleCurrentChange,"current-page":t.queryInfo.pagenum,"page-sizes":[1,2,5,10],"page-size":t.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.adminInfo.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])]),_:1})])}var K=P(U,[["render",D],["__scopeId","data-v-37e4b45c"]]);export{K as default};
